
<style>
	.demo-card-square.mdl-card {
		width: 90%;
		z-index: 0;
		margin: 100px auto;
	}
	.demo-card-square > .mdl-card__title {
		color: #fff;
		background: #555555;
	}
	.demo-card-square > .mdl-card__supporting-text {

		width: 95%;
		margin: 0 auto;
	}

	.location-title {
		display: block;
		width: 150px;
		overflow: hidden;
		white-space: nowrap;
		text-overflow: ellipsis;
	}

</style>

<div class="jumbotron text-center">

	<div class="demo-card-square mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title ">
			<h2 class="mdl-card__title-text">Manage Relief Operations</h2>
		</div>
		<div class="mdl-card__supporting-text">
			<div class="mdl-grid" >

				<div class="mdl-cell mdl-cell--3-col" style="height: 600px; overflow:hidden; "  >
					<h5>Operations</h5> 
					<select ng-model="listOption" ng-change="refreshList()" style="left: 18%; top: 119px; position: absolute;">
						<option id='0' >all</option>
						<option id='1'>active</option>
						<option id='2'>in-active</option>
					</select>
					<ul class="demo-list-control mdl-list" style="overflow-y: scroll;height: 65%;">
						<li ng-repeat="(key, item) in filteredOp track by $index " class="mdl-list__item mdl-list__item--two-line mdl-js-ripple-effect">
							<span class="mdl-list__item-primary-content ">
								<input ng-click="logMe(item)" type="radio" id="list-option-{{$index}}" class="mdl-radio__button mdl-list__item-icon" name="options" value="{{$index}}" />
								<span class="location-title">{{item.title}}</span>
								<span class="location-title mdl-list__item-sub-title">{{item.location}}</span>
							</span>
							<span class="mdl-list__item-secondary-content">
								<i class="mdl-list__item-secondary-action material-icons">keyboard_arrow_right</i>
							</span>
						</li>
					</ul>



					<h5>Create a new Operation</h5>
					
					<label class="mdl-button mdl-js-button mdl-button--icon" for="txtWhere">
						<i class="material-icons">add_circle</i>
					</label>

					<div style="width: 80%;" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" ng-class="{'is-focused':txtWhere.value != null || txtWhere.isFocus == true}"> 	
						<input ng-blur="txtWhere.isFocus= false" ng-focus="txtWhere.isFocus=true" ng-model="txtWhere.value" id="txtWhere"  name="txtWhere" type="text" class="mdl-textfield__input" placeholder=""/> 
						<label class="mdl-textfield__label">Enter location of deployment</label>
					</div>
					
					
				</div>
				<div class="mdl-cell mdl-cell--9-col" style=" overflow-y: scroll;">
					<table ng-if="selectedOp != null" style="width: 100%" class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
						<thead>
							<tr>
								<td style="text-align: left;" colspan="7">
									<button ng-if="selectedOp.status == 'active'" ng-click="showConfirm()" style="top: 40px; right: 20px; position: absolute;"
									class="mdl-button mdl-js-button mdl-button--icon">
									<i class="material-icons">archive</i>
								</button>
								

								<h4 style="vertical-align:middle;">
									<i ng-if="selectedOp.status == 'active'" style="color: #009900" class="material-icons">check_circle</i>
									<i ng-if="selectedOp.status == 'in-active'" style="color: #aa0000" class="material-icons">remove_circle</i>
									{{selectedOp.title}}
								</h4>

								<i>{{selectedOp.location}}</i><br/>
								<i>{{selectedOp.date}}</i>
								<p><i>{{selectedOp.description}}</i></p>


							</td>
						</tr>
						<tr>
							<td style="text-align: right;"  colspan="7" >
							<h5>Feedback</h5>
							<b>Operation Status : {{opStatus}}</b><br /> 
							<b>Rating : {{opRating}}</b><br />
							</td>
						</tr>
						<tr>

							<th><h6>Clothes</h6></th>
							<th><h6>Food</h6></th>
							<th ><h6>Medicine</h6></th>
							<th ><h6>Others</h6></th>
							<th ><h6>Rating</h6></th>
							<th ><h6>Comments</h6></th>
						</tr>
					</thead>
					<tbody ng-if="selectedFeed != null">
						<tr ng-repeat="item in selectedFeed | orderBy:'timestamp':true">

							<td class="mdl-data-table__cell">{{item.clothes}}</td>
							<td class="mdl-data-table__cell">{{item.food}}</td>
							<td class="mdl-data-table__cell">{{item.medicine}}</td>
							<td class="mdl-data-table__cell">{{item.others}}</td>
							<td class="mdl-data-table__cell">{{item.rating}}</td>
							<td class="mdl-data-table__cell">{{item.comment}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="mdl-card__actions mdl-card--border">
		<br />
	</div>

</div>
</div>

<!-- Colored FAB button -->
	<!-- <button ng-click="showDialog()" style="position:fixed;right:80px;bottom:40px;" class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored">
		<i class="material-icons">add</i>
	</button> -->

	<dialog id="dialogCreate" class="mdl-dialog" style="width:50%; z-index: 1041 !important;"	>
		<h4 class="mdl-dialog__title">Create an Operation</h4>
		<div class="mdl-dialog__content">
			<form name="operationForm">
				<table>
					<tr>
						<td style="width:50%; vertical-align:top;">
							<div style="margin-top:40px;">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" ng-class="{'is-focused':txtWhat.value != null || txtWhat.isFocus == true}"> 
									<input ng-blur="txtWhat.isFocus= false" ng-focus="txtWhat.isFocus=true" ng-model="txtWhat.value" id="txtWhat"  name="txtWhat" type="text" class="mdl-textfield__input" required> 
									<label class="mdl-textfield__label">Operation Title</label>
								</div>
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" ng-class="{'is-focused':txtWhen.value != null || txtWhen.isFocus == true}"> 
									<input ng-blur="txtWhen.isFocus= false" ng-focus="txtWhen.isFocus=true" ng-model="txtWhen.value" id="txtWhen"  name="txtWhen" type="date" class="mdl-textfield__input" required> 
									<label class="mdl-textfield__label">Date</label>
								</div>
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" ng-class="{'is-focused':txtDesc.value != null || txtDesc.isFocus == true}"> 
									<textarea  ng-blur="txtDesc.isFocus= false" ng-focus="txtDesc.isFocus=true" ng-model="txtDesc.value" id="txtDesc"  name="txtDesc" type="text" class="mdl-textfield__input" rows= "3" required></textarea>
									<label class="mdl-textfield__label" for="sample5">Description</label>

								</div>
							</div>
						</td>
						<td style="width:50%; vertical-align:top;">
							<div style="margin-top:40px; ">
								<!-- <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" ng-class="{'is-focused':txtWhere.value != null || txtWhere.isFocus == true}"> 
									<input ng-blur="txtWhere.isFocus= false" ng-focus="txtWhere.isFocus=true" ng-model="txtWhere.value" id="txtWhere"  name="txtWhere" type="text" class="mdl-textfield__input" required/> 
									<label class="mdl-textfield__label">Location</label>
								</div> -->
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" ng-class="{'is-focused':txtCount.value != null || txtCount.isFocus == true}">
									<input ng-blur="txtCount.isFocus= false" ng-focus="txtCount.isFocus=true" ng-model="txtCount.value" id="txtCount"  name="txtCount"  class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" required>
									<label class="mdl-textfield__label" for="sample4">Relief Count</label>
									<span class="mdl-textfield__error">Input is not a valid number!</span>
								</div>
								

								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label getmdl-select getmdl-select__fix-height" ng-class="{'is-focused':textArea.value != null || textArea.isFocus == true}">

									<select class="mdl-textfield__input" ng-blur="textArea.isFocus= false" ng-focus="textArea.isFocus=true" ng-model="textArea.value" id="textArea"  name="textArea"  required>
										<option value="{{key}}" class="mdl-menu__item" ng-repeat="(key, x) in affected track by $index">{{x.location}}</option>
									</select>
									<label for="textArea" class="mdl-textfield__label">Area</label>

								</div>
								

								<div style="margin-top: 20px;">
									<b>Address : </b> {{deploymentData[2]}}<br/>
									<b>Longitude : </b> {{deploymentData[1]}}<br/>
									<b>Latitude : </b> {{deploymentData[0]}}<br/>
								</div>
							</div>


						</td>
					</tr>
				</table>
			</form>
		</div>
		<div class="mdl-dialog__actions">
			<button type="button" ng-click="onAddOp(operationForm)" type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Create</button>
			<button type="button" class="mdl-button close">Cancel</button>
		</div>
	</dialog>


	<dialog class="mdl-dialog" id="dialogConfirm">
		<h4 class="mdl-dialog__title">Confirmation</h4>
		<div class="mdl-dialog__content">
			<p>
				Are you sure?
			</p>
		</div>
		<div class="mdl-dialog__actions">
			<button ng-click="archiveThis()" type="button" class="mdl-button" id="confirm-proceed">Yes</button>
			<button type="button" class="mdl-button close">Cancel</button>
		</div>
	</dialog>
	
</div>